## `Node.js ` çš„æ¨¡å—åŠ è½½

åœ¨ `v13.2` ç‰ˆæœ¬ä¹‹å‰ï¼Œ`Node.js`ä»…æ”¯æŒ`CommonJSæ¨¡å—`ï¼Œç®€ç§°ï¼š`CJS`ã€‚åœ¨`ES6`æ·»åŠ äº†æ¨¡å—æœºåˆ¶åï¼Œ`Node.js`ä¹Ÿä»æ­¤ç‰ˆæœ¬å¼€å§‹æ”¯æŒ`ES6æ¨¡å—`ï¼Œç®€ç§°ï¼š`ESM(MJS)`ã€‚

ğŸ¤” **Questionsï¼š** å¦‚ä½•åŒºåˆ†å’Œä½¿ç”¨è¿™ä¸¤ç§æ¨¡å—ï¼Ÿ

åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹`package.json`æ–‡ä»¶ä¸­çš„`type`å­—æ®µã€‚`type`å­—æ®µç”¨äºè§£ææ¨¡å—ï¼ŒåŒ…å«çš„å€¼æœ‰ï¼š`'module' | 'commonjs'`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`type`å­—æ®µæ˜¯æ²¡æœ‰è®¾ç½®çš„ï¼Œæ­¤æ—¶`Node.js`ä»¥`CJS`è§„èŒƒè§£ææ¨¡å—ã€‚

> æ€»ç»“ä¸ºä¸€å¥è¯ï¼š**`.mjs`æ–‡ä»¶æ€»æ˜¯ä»¥ `ES6` æ¨¡å—åŠ è½½ï¼Œ`.cjs`æ–‡ä»¶æ€»æ˜¯ä»¥ `CommonJS` æ¨¡å—åŠ è½½ï¼Œ`.js`æ–‡ä»¶çš„åŠ è½½å–å†³äº`package.json`é‡Œé¢`type`å­—æ®µçš„è®¾ç½®ã€‚**

### CommonJS

æ–‡ä»¶åä»¥ `.js` æˆ– `.cjs` ç»“å°¾ï¼Œä¸è®¾ç½®`type`å­—æ®µï¼Œæˆ–å°†`type`å­—æ®µå€¼è®¾ç½®ä¸º
â€˜`commonjs`â€™ï¼ŒåŒæ—¶ä½¿ç”¨`require()`å’Œ`module.exports`è¿›è¡Œå¯¼å…¥å¯¼å‡ºæ“ä½œã€‚

```js
// a.js
const a = 10;
module.exports.a = a;

// b.js
const a = require('./a.js');
const b = 1;
console.log(a + b); // 11
```

### ES6 Module

æ–‡ä»¶åä»¥ `.js` æˆ– `.mjs` ç»“å°¾ï¼Œå°†`type`å­—æ®µå€¼è®¾ç½®ä¸ºâ€˜`module`â€™ï¼ŒåŒæ—¶ä½¿
ç”¨`import`å’Œ`export`è¿›è¡Œå¯¼å…¥å¯¼å‡ºæ“ä½œã€‚

```js
// m.js
const m = 10;
export default a;

// n.js
import m from './m.js';
const n = 1;
console.log(m + n); // 11
```
